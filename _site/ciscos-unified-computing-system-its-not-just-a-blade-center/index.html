<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Cisco&#8217;s Unified Computing System &#8211; It&#8217;s not just a blade center</title>
  <meta name="description" content="**Overview of Cisco’s Unified Computing System**">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://www.colinmcnamara.com/ciscos-unified-computing-system-its-not-just-a-blade-center/">
  <link rel="alternate" type="application/rss+xml" title="Colin McNamara - DevOps in an Enterprise World" href="http://www.colinmcnamara.com/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Colin McNamara - DevOps in an Enterprise World</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">Colin McNamara</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Cisco&#8217;s Unified Computing System &#8211; It&#8217;s not just a blade center</h1>
    <p class="post-meta">Mar 30, 2009 • colinmcnamara</p>
  </header>

  <article class="post-content">
    <p>**<span style="font-size: large;">Overview of Cisco’s Unified Computing System</span><br />
**</p>

<p>This March, Cisco formally announced its entry into the enterprise computing market with a new product line called the Cisco Unified Computing System (UCS). I say formally announced, becase the existence of the Unified Computing System might just be the worst kept secret in history. In the months prior, to launch Cisco has been openly talking about the system, as well as many news agencies. The only people who haven’t been talking about the system were those of us who got briefed in early and were under strict NDA. (yours truly being one of them). But now, the multiple layers of NDA have been removed and I am free to talk. So, let me tell you about a new concept called Unified Computing.</p>

<p>The Unified Computing System answers a simple question – “what would you do if you could build a system with no preconceptions”. That same question has been asked over the years by Cisco. The results have given us the Catalyst 6500 line of switches, the Cisco MDS storage line, as well as the Nexus 7000/5000/2000/1000V family of switches.</p>

<p><span style="font-size: small;"><strong>Nuova – a history of innovation</strong></span></p>

<p>A couple of years ago, Cisco funded a startup called Nuova (meaning “New” in Italian). The founders of this startup were the same innovators who led the Catalyst, MDS and Nexus products. Not only did they have a track record of successful products, but they also had experience in both types of Data Center networking – Ethernet, and Fibre Channel. This startup took the lessons they learned creating a non blocking, low latency, highly available fabric for the MDS line of SAN switches and created a new line of Data Center switches, the Nexus 5000 that is able to transport Fibre Channel and Ethernet traffic at the same time, through a single adapter.</p>

<p>In April of 2008 Cisco formally acquired Nuova (which in effect was just hiring prior innovators back). Nuova was renamed the Server and Virtualization Business Unit (SAVBU), and the Nexus 5000 was released to market, making Cisco the first vendor to deliver a solution based around the upcoming Fibre Channel over Ethernet standard (FCOE). This pattern of innovation continued, as SAVBU released a virtual switch for VMware (the nexus 1000V) and this January released a remote line card technology called Fabric Extension. Those of us on the inside got the hint that the choice of names for this new business unit (<strong>SERVER</strong> and <strong>VIRTUALIZATION</strong> Business Unit) was a foreshadow of things to come.</p>

<p><span style="font-size: large;"><strong>Unified Computing System enclosure w/ redundant 6120 Fabric Interconnects</strong></span></p>

<p>[singlepic id=78 w=420 h=440 float=]</p>

<p>**Here are some spec’s to get you started – **</p>

<ul>
  <li>Single point of management for all devices in the fabric.</li>
  <li>Virtual machine enabled networks adapters. (VNtag capable)</li>
  <li>Up to 320 B-series compute blades in one fabric.</li>
  <li>Up to 384 Gigabytes of memory per blade (full width blade)</li>
  <li>Server Profiles – virtualize server identities (UUID, WWN, MAC)</li>
  <li>Hardware Assisted Virtualization using Intel’s next generation Xeon (code named Nehalem-EP) processors</li>
  <li>Redundant 10 Gigabit connections between servers.</li>
  <li>Fibre Channel SAN access available to every blade.</li>
  <li>Capital costs up to 20% less</li>
  <li>Operational costs up to 30% less</li>
</ul>

<p>The UCS does all of this while using 1/3 less components then the competition. What does using less components give you? Less components means less things to buy (lower capital expense). It also means less things to power and cool (lower operational expens). And finally it means less items to manage (lower management burden) How does Cisco do all of this while using drastically fewer components? I think it is necessary to talk about the major components that they system is built from to answer that question.</p>

<p><span style="font-size: medium;"><strong><br /> </strong></span></p>

<p><span style="font-size: large;"><strong>Cisco UCS 6100 Fabric Interconnect (Nexus 5000 on steroids)</strong></span></p>

<p>[singlepic id=87 w=500 h=440 float=]</p>

<p style="color: #ffffff;">
  .
</p>

<p>The primary building block of the system is the Cisco UCS 6100 Fabric Interconnect. Cisco took the non blocking, low latency, lossless fabric from the MDS that was used on the Nexus 5000 and used it as a building block for the 6120 and 6140 Fabric Interconnects. These fabrics support 20 and 40 (6120/6140)10gig Data Center Ethernet (combined Fibre Channel and Ethernet support).</p>

<ul>
  <li>6120 – 20 Fixed 10 Gig Data Center Ethernet ports along with an expansion module that supports native Fibre Channel, or additional Data Center Ethernet interfaces</li>
  <li>6120 – 40 Fixed 10 Gig Data Center Ethernet ports along with two expansion module that supports native Fibre Channel, or additional Data Center Ethernet interfaces</li>
</ul>

<p>The 6100 series Fabric Interconnect unifies Storage and Ethernet network, as well as providing supervisory functions for its remote line cards, the 2100 series fabric extenders that are inserted the compute chassis. The other thing the 6100 Fabric Interconnect does is house the Unified Computing System Manager (UCSM).</p>

<p><span style="font-size: large;"><strong>Cisco Unified Computing System Manager (UCSM)</strong></span></p>

<p>The UCSM runs on the fabric switches, providing a single point of management for all components in the fabric –</p>

<ul>
  <li>I/O Fabric</li>
  <li>Chassis and Services</li>
  <li>Adapters and Virtual I/O</li>
</ul>

<p>This interface can be accessed through either a web based Gui or CLI. It also supports a full API for programatic integration and management of the system. The biggest thing that they SAM gives you is the ability to dynamically provision server attributes down to the compute blades. Attributes that can be pushed down dynamically include CPU UUID, SAN PWWN, Ethernet MAC address, and many more. These items are pushed down through as Service Profiles.One key component of the service profile is the Port Profile.</p>

<p>[singlepic id=81 w=500 h=440 float=]</p>

<p style="color: #ffffff;">
  .
</p>

<p>These Port Profiles are dynamically created in the SAM, and most importantly enable you to create virtual network interfaces (vNics) that show up to your server administrators as normal network interfaces. This allows your server administrators to follow their application vendors recommended interconnection topologies.</p>

<p>A great example would be VMware’s recommended topology for ESX. In this topology there are four network intefaces defined. Each for a specific function. This logical topology can be implemented, with all the relevant speed, QOS, VLAN, and security attributes all “pre-configured” for the virtulization administrators, simplifying their virtualization cluster deployments.</p>

<p><span style="font-size: large;"><strong>Cisco UCS 2100 Fabric Extender (Next Generation FEX)</strong></span></p>

<p> The next component in this architecture is the UCS 2100 Series Fabric Extender (FEX). There are two of these in each bladechassis. Each FEX has the capability of up-linking to 6100 Fabric Interconnects with four 10 Gig ports. for a total of 80 Gigabit persecond out of each blade chassis (supporting 8 half width blades, or 4 full width blades). Each FEX is managed as a “remote line card” connected off of the Fabric Interconnects.</p>

<p>Logically, think of your 6500 series switch in your Data Center right now. You have three logical functions, supervisory functions (sup module), a bus for the switching fabric (traces in the chassis) and line cards (6748 for example). You will notice that you only manage the sup module itself. You don’t shell into to each line card to set up backplane interconnects, or to update microcode. You update software and configurations on the sup module, and the intelligence that Cisco builds into its software manages this for you.</p>

<p>The 6100 and the 2100 interact in the exact same way. In this case the 6100’s are the sup modules, the 2100’s are the line cards, and we are running 10 Gig connections to build the switching fabric. What this gives you is a simplified network architecture, which takes elements that would in the past be individually managed, maintained, upgraded, etc and consolidates that into one highly available, high bandwidth consolidated SAN and Ethernet for your Data Center compute needs.</p>

<p><span style="font-size: large;"><strong>Putting Network Intelligence on the Compute Blade</strong></span></p>

<p><span style="font-size: medium;">[singlepic id=88 w=520 h=440 float=]<br /> </span></p>

<p>Cisco will be giving customers three mezzanine card network adapters options for the UCS.</p>

<p>The first card (based is based on a the Palo chipset. This chipset was developed internally at Cisco and performs Network, Storage and Virtual Machine networking functions all on one 10 Gig capable chip. This chipset effectively extends network intelligence into the blade itself allowing for some pretty interesting integrations with Virtual Machine Hypevervisors (VMware, Hyper-V, Etc).</p>

<p>The second option is based on the Menlo chipset in conjunction with either a Qlogic or Emulex Fibre Channel adapter chipset that gives you 10 Gig network access, while retaining strict compatability with applications that require either of these classic HBA’s.</p>

<p>The third option is an “economy” option based on an Intel chipset. This will give the compute blade 10 Gig access.</p>

<p>What will drive your choice of network adapter? I think the biggest driver will be a technology called “VNtag”. This technology is currently in use on the FEX to encapsulate traffic that enters the fabric with a little shim header that communicates the identity of the incoming port (VLAN, QOS, Security info, etc). This shim header passes from the FEX up to the 6100 where the shim header is removed and the frame is processed.</p>

<p>This alone is very cool, however Cisco has taken things one step further and put the ability to impose VNtag’s in the Palo chipset (on the blade) itself. What this gives you the ability to logically attach a virtual machine DIRECTLY to the network. We no longer need a vSwitch, or even a 1000V to give full network functionality to a virtual machine. Effectively, Cisco is giving the network adapter inside of the blade many of the functions of a network switchport. Logically what this does is reduce your network tiers from four tiers in a competitive system, to two tiers in a Unified Computing System.</p>

<p>[singlepic id=83 w=500 h=440 float=]</p>

<p><span style="font-size: large;"><strong>Cisco UCS B-Series Blades </strong></span></p>

<p>The compute blades themselves are available in either 1/2 width of full width form factors. As stated in the formal announcement the maximum memory for a full width blade will be 384 Gigabytes per blade. Why is this important?</p>

<p>At release, there will be two option for compute blades.</p>

<p>Half width blade</p>

<ul>
  <li>2 quad core Intel Xeon 5500 processors</li>
  <li>96 Gigabytes of memory</li>
  <li>Two small form factor SAS drives (raid 0 and 1)</li>
  <li>Single Converged Network Adapter slot (connected to redundant fabrics)</li>
</ul>

<p>Full width blade</p>

<ul>
  <li>2 quad core Intel Xeon 5500 processors</li>
  <li>384 Gigabytes of memory</li>
  <li>Two small form factor SAS drives (raid 0 and 1)</li>
  <li>Dual Converged Network Adapter slots</li>
</ul>

<p>As CPU’s become more powerful, the host compression ratio’s (the amount of virtual machines you run on one physical blade) increases. The one thing is, you can only over commit your memory to a point. Once you are at that point you have to physically add more memory. Your only option with legacy server architectures is to add another physical server, pay for additional licenses and add more memory to it. Then add that server to the cluster and allow your virtual machines to utilize its additional resources in the pool.</p>

<p>The problem with this is a simple one, Cost. The problem was that the virtual machines needed more memory, but since there was a limitation on how much memory the legacy server could handle, it forces costs skyward to meet those memory needs. In this scenario if the customer had been using a full width Unified Computing blade the customer could have avoided purchasing an additional server and avoided the additional licensing and management cost associated with that additional server.</p>

<p>What does this balance out to in real costs? By allowing for higher host compression ratios there is the capability to avoid a significant amount of cost (50%+) in your compute layer. </p>

<p><span style="font-size: large;"><strong>Intel Xeon 5500 ( Code Named Nehalem-EP)</strong></span></p>

<p>Intel’s next generation Xeon CPU (code named Nehalem) will be driving the Compute Blades. The Xeon 5500 signals Intel’s move away from the legacy “Front Side Bus” (FSB) architecture into what is called “Intel Quick Path Interconnect” (QPI). Intel’s Xeon 5500 with Quick Path Interconnect changes a couple key things from previous generation Xeon procesors.</p>

<ul>
  <li>high bandwidth, full mesh, routed interconnect between CPU’s instead of a low bandwidth bus</li>
  <li>DDR3 vs DDR2 memory and moves the memory bank adjacent to the CPU’s for higher performance</li>
  <li>I/O Hubs are now dedicated for network and storage interconnects</li>
</ul>

<p><strong>First and Second Gen Xeon vs Xeon 5500 (Nehalem)</strong></p>

<p>[singlepic id=84 w=500 h=440 float=]**<br />
**</p>

<p style="color: #ffffff;">
  .\
</p>

<p>If you look at the picture above, where the last generation processors are to the left, and the processor that will be in the UCS is on the right, you will notice a couple key items. I think the most important items to point out is that the bandwidth in pretty much all directions is superior in this architecture. If you think about this as a network on your server itself, you can see how moving from a bus based network, to a full mesh routed network has significant performance advantages. Stay tuned for later posts where I will talk about some of these advantages in detail.</p>

<p><span style="font-size: large;"><strong></strong></span><span style="font-size: large;"><strong>Hardware Assisted Virtualization</strong></span></p>

<p><span style="font-size: medium;"><span style="font-size: small;">One of most important new features that Intel is bringing to the table is the notion of hardware assisted virtualization. Intel has created a couple key technologies to address the following problems faced in virtual environments.</span></span></p>

<p><span style="font-size: medium;"><span style="font-size: small;">[singlepic id=85 w=500 h=440 float=]<br /> </span></span></p>

<p><strong><span style="font-size: medium;"><span style="font-size: small;">Processor Virtualization </span></span></strong></p>

<p><span style="font-size: medium;"><span style="font-size: small;">Currently to virtualize an operating system, we rely on the hypervisor (ESX, for example) to accomplish two key tasks – Ring Depriveleging and Context Switching. When we are talking about CPU overhead in virtual environments this is what we are talking about.<br /> </span></span></p>

<p><strong><span style="font-size: medium;"><span style="font-size: small;">Memory Virtualization</span></span></strong></p>

<p><span style="font-size: medium;"><span style="font-size: small;">Again, in current environments the hypervisor is used to abstract memory. ESX uses a technique called page table shadowing to virtualize the physical memory. This again however adds inefficiency to the process and shows up as virtualization overhead.<br /> </span></span></p>

<p><strong><span style="font-size: medium;"><span style="font-size: small;">I/O Device Virtualization</span></span></strong></p>

<p><span style="font-size: medium;"><span style="font-size: small;">As our virtual machines go to disk, we are again presented with a situation where the hypervisor has to abstract disks and networks presented tot he physical server, and connect these to the relevant virtual machines. Again, this shows up as virtualization overhead, lowering the efficiency of our virtual servers as well as introducing I/O sprawl.</span></span></p>

<p><span style="font-size: large;"><strong>Solving virtualization overhead problems</strong></span></p>

<p><span style="font-size: medium;"><span style="font-size: small;"><span style="font-size: medium;">[singlepic id=89 w=520 h=440 float=]</span></span></span></p>

<p><span style="font-size: medium;"><span style="font-size: small;"><span style="font-size: medium;"><span style="font-size: small;">With the Xeon 5500 on Cisco’s Unified Compute System blade you will be able to use processor features to solve the problems listed above. VT-X is used to extend CPU virtualization down to the physical CPU, Extended Page Tables, Cisco Memory Expansion and DMA remapping is used to speed remove memory access overhead from virtual network and I/O interfaces, and I/O devices sharing through VT-C is used to integrate the physical network with the virtual network transparently and with much less overhead. </span><br /> </span></span></span></p>

<p><span style="font-size: large;"><strong>Summary</strong></span></p>

<p><span style="font-size: medium;"><span style="font-size: small;">Cisco’s entry into the computing space is not a “me too” entry into a commodity x86 market. It is a well thought out strategic move unifying storage, network and compute functions in a unique way that will differentiate the Unified Computing System from other compute offerings. I expect some fierce debate of the upcoming months as competitors release products to compete. I feel that Cisco’s value proposition of a unified compute / network layer in the Data Center uniquely solves problems that most customers face. And at the end of the day, the vendor that can solve the customers problems is the vendor that will succede.</span><br /> </span></p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Colin McNamara - DevOps in an Enterprise World</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Colin McNamara - DevOps in an Enterprise World</li>
          <li><a href="mailto:colin@2cups.com">colin@2cups.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/colinmcnamara">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">colinmcnamara</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/colinmcnamara">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">colinmcnamara</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">CCIE #18233, DevOps, OpenStack, Containers, SDN, People, Process, Technology
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
